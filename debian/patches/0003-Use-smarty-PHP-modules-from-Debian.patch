From: =?utf-8?q?S=C3=A9bastien_Delafond?= <sdelafond@gmail.com>
Date: Tue, 20 Nov 2018 11:12:26 +0100
Subject: Use smarty PHP modules from Debian

---
 www/api/class/centreon_configuration_broker.class.php | 4 ++--
 www/api/class/centreon_home_customview.class.php      | 4 ++--
 www/install/steps/functions.php                       | 4 ++--
 3 files changed, 6 insertions(+), 6 deletions(-)

diff --git a/www/api/class/centreon_configuration_broker.class.php b/www/api/class/centreon_configuration_broker.class.php
index 0954554..ef9b307 100644
--- a/www/api/class/centreon_configuration_broker.class.php
+++ b/www/api/class/centreon_configuration_broker.class.php
@@ -85,8 +85,8 @@ class CentreonConfigurationBroker extends CentreonConfigurationObjects
          * Smarty template Init
          */
         $libDir = __DIR__ . "/../../../GPL_LIB";
-        $smartyDir = __DIR__ . '/../../../vendor/smarty/smarty/';
-        require_once $smartyDir . 'libs/Smarty.class.php';
+        $smartyDir = '/usr/share/php/smarty3';
+        require_once $smartyDir . 'Smarty.class.php';
         $tpl = new \Smarty();
         $tpl->compile_dir = $libDir . '/SmartyCache/compile';
         $tpl->config_dir = $libDir . '/SmartyCache/config';
diff --git a/www/api/class/centreon_home_customview.class.php b/www/api/class/centreon_home_customview.class.php
index 03a3b0b..1ec323e 100644
--- a/www/api/class/centreon_home_customview.class.php
+++ b/www/api/class/centreon_home_customview.class.php
@@ -185,8 +185,8 @@ class CentreonHomeCustomview extends CentreonWebService
         require_once _CENTREON_PATH_ . "www/class/centreonWidget/Params/Compare.class.php";
         require_once _CENTREON_PATH_ . "www/class/centreonWidget/Params/Sort.class.php";
         require_once _CENTREON_PATH_ . "www/class/centreonWidget/Params/Date.class.php";
-        $smartyDir = __DIR__ . '/../../../vendor/smarty/smarty/';
-        require_once $smartyDir . 'libs/Smarty.class.php';
+        $smartyDir = '/usr/share/php/smarty3';
+        require_once $smartyDir . 'Smarty.class.php';
 
         global $centreon;
 
diff --git a/www/install/steps/functions.php b/www/install/steps/functions.php
index dd74af2..676abf9 100644
--- a/www/install/steps/functions.php
+++ b/www/install/steps/functions.php
@@ -22,8 +22,8 @@ function isSqlComment($str)
 function getTemplate($dir)
 {
     $libDir = __DIR__ . '/../../../GPL_LIB';
-    $smartyDir = __DIR__ . '/../../../vendor/smarty/smarty/';
-    require_once $smartyDir . 'libs/Smarty.class.php';
+    $smartyDir = '/usr/share/php/smarty3';
+    require_once $smartyDir . 'Smarty.class.php';
     $template = new \Smarty();
     $template->compile_dir = $libDir . '/SmartyCache/compile';
     $template->config_dir = $libDir . '/SmartyCache/config';
